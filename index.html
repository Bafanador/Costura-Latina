<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arreglos de Ropa con Amor y Precisi√≥n - Costura Latina Gold Coast</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Poppins', sans-serif; scroll-behavior: smooth; }
        .hero-bg {
            background: linear-gradient(135deg, rgba(236, 72, 153, 0.9), rgba(219, 39, 119, 0.8)),
                        url('https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');
            background-size: cover; background-position: center; background-attachment: fixed;
        }
        /* Desactivar background-attachment fixed en m√≥viles para evitar jank */
        @media (max-width: 768px) { .hero-bg { background-attachment: scroll; } }
        .fade-in { opacity: 0; transform: translateY(30px); transition: opacity .8s ease, transform .8s ease; }
        .fade-in.visible { opacity: 1; transform: translateY(0); }
        .pulse-button { animation: pulse 2s infinite; }
        @keyframes pulse { 0%{box-shadow:0 0 0 0 rgba(236,72,153,.7)} 70%{box-shadow:0 0 0 10px rgba(236,72,153,0)} 100%{box-shadow:0 0 0 0 rgba(236,72,153,0)}}
        .slider-container { overflow: hidden; position: relative; }
        .slider-track { display: flex; transition: transform .5s ease; }
        .slider-item { min-width: 300px; margin-right: 20px; }
        .counter-animation { font-weight: 700; color: #ec4899; }
        /* Honeypot invisible */
        .honeypot { position: absolute; left: -9999px; top: -9999px; width: 1px; height: 1px; opacity: 0; pointer-events: none; tab-index: -1; }
        /* WhatsApp sticky solo en m√≥vil */
        .whatsapp-sticky {
            position: fixed; bottom: 20px; right: 20px; z-index: 40;
            background: #25D366; color: white; border-radius: 50px; padding: 12px 16px;
            box-shadow: 0 4px 12px rgba(37,211,102,.4); transition: all .3s ease; display: flex; align-items: center; gap: 8px; text-decoration: none; font-weight: 600; font-size: 14px;
        }
        .whatsapp-sticky:hover { background: #20BA5A; transform: scale(1.05); box-shadow: 0 6px 16px rgba(37,211,102,.5); }
        @media (min-width: 768px) { .whatsapp-sticky { display: none; } }
        @media (max-width: 767px) { #contact-form { margin-bottom: 80px; } }
    </style>
</head>
<body class="bg-gray-50">

    <!-- Header -->
    <header class="bg-white shadow-sm fixed top-0 w-full z-50">
        <nav class="container mx-auto flex justify-between items-center px-4 py-3">
            <div class="text-2xl font-bold text-pink-600">Costura Latina</div>
            <div class="flex items-center space-x-6">
                <span class="text-sm text-gray-600 hidden md:block">üìç Gold Coast, QLD</span>
                <a href="#contacto" class="bg-pink-600 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-pink-700 transition">Solicitar Presupuesto</a>
            </div>
        </nav>
    </header>

    <!-- HERO -->
    <section class="hero-bg min-h-screen flex items-center justify-center text-center text-white pt-16">
        <div class="container mx-auto px-4 max-w-4xl">
            <div class="fade-in">
                <h1 class="text-4xl md:text-6xl lg:text-7xl font-bold leading-tight mb-6">
                    Arreglos de Ropa con<br><span class="text-yellow-300">Amor y Precisi√≥n</span>
                </h1>
                <p class="text-xl md:text-2xl mb-8 opacity-90 max-w-2xl mx-auto">
                    Recupera tus prendas favoritas y dales una segunda vida. Cada puntada cuenta tu historia.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center items-center mb-8">
                    <a href="#contacto" class="pulse-button bg-yellow-400 text-gray-900 px-8 py-4 rounded-full text-lg font-bold hover:bg-yellow-300 transition transform hover:scale-105">
                        üßµ Solicita tu Presupuesto GRATIS
                    </a>
                    <div class="flex items-center text-sm opacity-80">
                        <span class="w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"></span>
                        Respuesta en menos de 24h
                    </div>
                </div>
                <div class="flex justify-center mb-12">
                    <div class="bg-white bg-opacity-20 backdrop-blur-sm border border-white border-opacity-30 rounded-full px-6 py-2 text-sm font-medium">
                        <span class="mr-2">‚úÖ</span> Garant√≠a: Si no queda perfecto, lo ajustamos sin costo
                    </div>
                </div>
                <div class="bg-red-600 bg-opacity-90 rounded-lg p-4 max-w-md mx-auto">
                    <p class="text-sm font-medium">‚ö° OFERTA LIMITADA: Solo 5 cupos disponibles esta semana</p>
                </div>
            </div>
        </div>
    </section>

    <!-- BENEFICIOS -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-6xl mx-auto">
                <div class="fade-in text-center">
                    <div class="bg-pink-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4"><span class="text-2xl">‚úÇÔ∏è</span></div>
                    <h3 class="font-bold text-lg mb-2">Calidad Profesional</h3>
                    <p class="text-gray-600 text-sm">Ajustes y arreglos con t√©cnicas profesionales y 3 a√±os de experiencia</p>
                </div>
                <div class="fade-in text-center">
                    <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4"><span class="text-2xl">üìç</span></div>
                    <h3 class="font-bold text-lg mb-2">Ubicados en Gold Coast</h3>
                    <p class="text-gray-600 text-sm">F√°cil acceso y servicio local confiable en el coraz√≥n de Queensland</p>
                </div>
                <div class="fade-in text-center">
                    <div class="bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4"><span class="text-2xl">‚è±Ô∏è</span></div>
                    <h3 class="font-bold text-lg mb-2">Entregas R√°pidas</h3>
                    <p class="text-gray-600 text-sm">Entregas puntuales y servicios express para cuando lo necesites urgente</p>
                </div>
                <div class="fade-in text-center">
                    <div class="bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4"><span class="text-2xl">üíå</span></div>
                    <h3 class="font-bold text-lg mb-2">Atenci√≥n Personal</h3>
                    <p class="text-gray-600 text-sm">Cada cliente es √∫nico. Te escuchamos y adaptamos a tus necesidades</p>
                </div>
            </div>
            <div class="fade-in max-w-4xl mx-auto mt-12">
                <div class="bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-2xl p-6 text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="bg-green-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold mr-3">‚úì</span>
                        <h3 class="text-xl font-bold text-green-800">Garant√≠a de Satisfacci√≥n</h3>
                    </div>
                    <p class="text-green-700 font-medium">Si tu prenda no queda perfecta, la ajustamos nuevamente sin costo adicional</p>
                </div>
            </div>
        </div>
    </section>

    <!-- PRUEBA SOCIAL -->
    <section class="py-16 bg-gray-50">
        <div class="container mx-auto px-4 text-center">
            <div class="fade-in mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">
                    M√°s de <span class="counter-animation" data-count="300">0</span> Prendas Transformadas
                </h2>
                <p class="text-gray-600 text-lg">La confianza de nuestros clientes es nuestro mejor aval</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                <div class="fade-in bg-white rounded-xl p-6 shadow-md">
                    <div class="flex items-center mb-4">
                        <img src="https://images.unsplash.com/photo-1494790108755-2616b2e30cb8?ixlib=rb-4.0.3&w=150&q=80" alt="Ana" class="w-12 h-12 rounded-full object-cover mr-4">
                        <div class="text-left"><p class="font-semibold">Ana Rodr√≠guez</p><div class="text-yellow-500 text-sm">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div></div>
                    </div>
                    <p class="text-gray-700 italic">"Mi vestido de graduaci√≥n qued√≥ perfecto. El trabajo es impecable y el trato s√∫per cercano. 100% recomendado."</p>
                </div>
                <div class="fade-in bg-white rounded-xl p-6 shadow-md">
                    <div class="flex items-center mb-4">
                        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&w=150&q=80" alt="Carlos" class="w-12 h-12 rounded-full object-cover mr-4">
                        <div class="text-left"><p class="font-semibold">Carlos Mendez</p><div class="text-yellow-500 text-sm">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div></div>
                    </div>
                    <p class="text-gray-700 italic">"Arreglo urgente para mi uniforme laboral y me salvaron el d√≠a. Rapidez, calidad y precio justo. ¬°Excelentes!"</p>
                </div>
                <div class="fade-in bg-white rounded-xl p-6 shadow-md">
                    <div class="flex items-center mb-4">
                        <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&w=150&q=80" alt="Mar√≠a" class="w-12 h-12 rounded-full object-cover mr-4">
                        <div class="text-left"><p class="font-semibold">Mar√≠a Gonz√°lez</p><div class="text-yellow-500 text-sm">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div></div>
                    </div>
                    <p class="text-gray-700 italic">"Transformaron mis jeans viejos en algo √∫nico. Volvieron a la Vida!. ¬°Mi ropa tiene personalidad!"</p>
                </div>
            </div>
            <div class="mt-12 flex flex-wrap justify-center items-center gap-8 opacity-60">
                <div class="flex items-center"><span class="text-green-600 mr-2">‚úì</span><span class="text-sm">3+ a√±os en Gold Coast</span></div>
                <div class="flex items-center"><span class="text-green-600 mr-2">‚úì</span><span class="text-sm">Pago seguro</span></div>
                <div class="flex items-center"><span class="text-green-600 mr-2">‚úì</span><span class="text-sm">Garant√≠a de satisfacci√≥n</span></div>
            </div>
        </div>
    </section>

    <!-- GALER√çA -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="fade-in text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">Transformaciones Reales</h2>
                <p class="text-gray-600 text-lg">Cada prenda cuenta una historia de renovaci√≥n</p>
            </div>
            <div class="slider-container max-w-6xl mx-auto">
                <div class="slider-track" id="gallery-slider">
                    <div class="slider-item bg-gray-100 rounded-xl overflow-hidden shadow-md">
                        <img src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&w=600&q=80" alt="Antes y despu√©s 1" class="w-full h-48 object-cover">
                        <div class="p-4"><h4 class="font-semibold mb-2">Vestido de Gala Restaurado</h4><p class="text-sm text-gray-600">De vintage descosido a elegancia renovada</p></div>
                    </div>
                    <div class="slider-item bg-gray-100 rounded-xl overflow-hidden shadow-md">
                        <img src="https://images.unsplash.com/photo-1541840031508-326b77c9a17e?ixlib=rb-4.0.3&w=600&q=80" alt="Antes y despu√©s 2" class="w-full h-48 object-cover">
                        <div class="p-4"><h4 class="font-semibold mb-2">Chaqueta Profesional</h4><p class="text-sm text-gray-600">Ajuste perfecto para tu imagen profesional</p></div>
                    </div>
                    <div class="slider-item bg-gray-100 rounded-xl overflow-hidden shadow-md">
                        <img src="https://images.unsplash.com/photo-1584464491033-06628f3a6b7b?ixlib=rb-4.0.3&w=600&q=80" alt="Antes y despu√©s 3" class="w-full h-48 object-cover">
                        <div class="p-4"><h4 class="font-semibold mb-2">Jeans Personalizados</h4><p class="text-sm text-gray-600">De b√°sicos a √∫nicos con bordados especiales</p></div>
                    </div>
                    <div class="slider-item bg-gray-100 rounded-xl overflow-hidden shadow-md">
                        <img src="https://images.unsplash.com/photo-1618932260643-eee4a2f652a6?ixlib=rb-4.0.3&w=600&q=80" alt="Antes y despu√©s 4" class="w-full h-48 object-cover">
                        <div class="p-4"><h4 class="font-semibold mb-2">Uniforme Escolar</h4><p class="text-sm text-gray-600">Reparaci√≥n completa, como nuevo</p></div>
                    </div>
                </div>
            </div>
            <div class="text-center mt-8">
                <button onclick="scrollGallery(-1)" class="bg-pink-100 text-pink-600 p-2 rounded-full mr-4 hover:bg-pink-200 transition">‚Üê</button>
                <button onclick="scrollGallery(1)" class="bg-pink-100 text-pink-600 p-2 rounded-full hover:bg-pink-200 transition">‚Üí</button>
            </div>
        </div>
    </section>

    <!-- UBICACI√ìN -->
    <section class="py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="fade-in text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">Nos Encuentras en Gold Coast</h2>
                <p class="text-gray-600 text-lg">Vis√≠tanos o Cont√°ctanos ahora mismo</p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center max-w-6xl mx-auto">
                <div class="fade-in">
                    <div class="bg-white rounded-xl p-8 shadow-md">
                        <h3 class="text-2xl font-bold mb-6 text-gray-800">¬øC√≥mo trabajamos?</h3>
                        <div class="space-y-4">
                            <div class="flex items-start">
                                <div class="bg-pink-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold mr-4 mt-1">1</div>
                                <div><h4 class="font-semibold">Cont√°ctanos</h4><p class="text-gray-600 text-sm">WhatsApp, formulario o visita directa</p></div>
                            </div>
                            <div class="flex items-start">
                                <div class="bg-pink-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold mr-4 mt-1">2</div>
                                <div><h4 class="font-semibold">Evaluamos tu prenda</h4><p class="text-gray-600 text-sm">Presupuesto gratuito y sin compromiso</p></div>
                            </div>
                            <div class="flex items-start">
                                <div class="bg-pink-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold mr-4 mt-1">3</div>
                                <div><h4 class="font-semibold">Trabajamos con amor</h4><p class="text-gray-600 text-sm">Cada puntada con m√°ximo cuidado</p></div>
                            </div>
                            <div class="flex items-start">
                                <div class="bg-pink-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold mr-4 mt-1">4</div>
                                <div><h4 class="font-semibold">Entrega perfecta</h4><p class="text-gray-600 text-sm">Tu prenda renovada, lista para brillar</p></div>
                            </div>
                        </div>
                        <div class="mt-8 p-4 bg-green-50 rounded-lg border border-green-200">
                            <p class="text-green-700 font-semibold text-center">Garant√≠a 100%: Si no queda perfecto, lo volvemos a ajustar sin costo</p>
                        </div>
                    </div>
                </div>
                <div class="fade-in">
                    <div class="relative w-full h-80 rounded-xl overflow-hidden shadow-md">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d882.3397842479425!2d153.4308216!3d-27.9999017!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6b910573c9df50d7%3A0xdf26f6b34a5226a7!2sThe%20Sands%20Apartments!5e0!3m2!1sen!2sau!4v1699999999999!5m2!1sen!2sau"
                            width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"
                            title="Ubicaci√≥n de Costura Latina en The Sands Apartments, Surfers Paradise">
                        </iframe>
                    </div>
                    <div class="mt-6 space-y-3">
                        <div class="flex items-center justify-center">
                            <span class="text-pink-500 mr-2">üì±</span>
                            <a href="https://wa.me/61430049118" class="text-lg font-semibold hover:text-pink-600">+61 430 049 118</a>
                        </div>
                        <p class="text-center text-gray-600 text-sm">üìç The Sands Apartments, Surfers Paradise</p>
                        <p class="text-center text-gray-600 text-sm">Horarios: Lun-Vie 9am-6pm | S√°b 10am-4pm</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FORMULARIO -->
    <section id="contacto" class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="fade-in max-w-2xl mx-auto text-center">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">Solicita tu Presupuesto Gratuito</h2>
                <p class="text-gray-600 text-lg mb-8">Te contactaremos en menos de 24 horas con el mejor precio</p>
                
                <form id="contact-form" class="bg-gray-50 rounded-2xl p-8 shadow-lg" novalidate>
                    <!-- Honeypot -->
                    <div class="honeypot" aria-hidden="true">
                        <label for="website">Website</label>
                        <input type="text" id="website" name="website" tabindex="-1" autocomplete="off">
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div class="text-left">
                            <label class="block text-gray-700 font-medium mb-2">Nombre *</label>
                            <input type="text" name="nombre" required class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-pink-500 focus:border-transparent" aria-describedby="nombre-error">
                            <div id="nombre-error" role="alert" class="text-red-600 text-sm mt-1 hidden"></div>
                        </div>
                        <div class="text-left">
                            <label class="block text-gray-700 font-medium mb-2">WhatsApp * <span class="text-pink-600 text-xs font-normal">(Respondemos m√°s r√°pido)</span></label>
                            <input type="tel" name="whatsapp" required class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-pink-500 focus:border-transparent" placeholder="+61..." aria-describedby="whatsapp-error">
                            <div id="whatsapp-error" role="alert" class="text-red-600 text-sm mt-1 hidden"></div>
                        </div>
                    </div>
                    
                    <div class="text-left mb-6">
                        <label class="block text-gray-700 font-medium mb-2">Email *</label>
                        <input type="email" name="correo" required class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-pink-500 focus:border-transparent" aria-describedby="correo-error">
                        <div id="correo-error" role="alert" class="text-red-600 text-sm mt-1 hidden"></div>
                    </div>
                    
                    <div class="text-left mb-6">
                        <label class="block text-gray-700 font-medium mb-2">¬øQu√© necesitas arreglar? *</label>
                        <textarea name="descripcion" rows="4" required class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-pink-500 focus:border-transparent" placeholder="Ej: Dobladillo de pantal√≥n, ajuste de vestido, reparaci√≥n de costura..." aria-describedby="descripcion-error"></textarea>
                        <div id="descripcion-error" role="alert" class="text-red-600 text-sm mt-1 hidden"></div>
                    </div>
                    
                    <div class="mb-6">
                        <label class="flex items-start text-left text-sm text-gray-600 cursor-pointer">
                            <input type="checkbox" id="consentimiento" name="consentimiento" required class="mt-1 mr-3 h-4 w-4 text-pink-600 focus:ring-pink-500 border-gray-300 rounded" aria-describedby="consentimiento-error">
                            <span>
                                Acepto recibir el correo de bienvenida y comunicaciones de Costura Latina. 
                                <a href="#politica-privacidad" class="text-pink-600 hover:text-pink-700 underline">Pol√≠tica de privacidad</a>
                            </span>
                        </label>
                        <div id="consentimiento-error" role="alert" class="text-red-600 text-sm mt-1 hidden"></div>
                    </div>
                    
                    <button type="submit" id="submit-button" class="w-full bg-gray-400 text-white py-4 px-8 rounded-lg text-lg font-bold transition transform cursor-not-allowed" disabled>
                        üßµ Solicitar Presupuesto GRATIS
                    </button>
                    
                    <p class="text-xs text-gray-500 mt-4">
                        Al marcar el checkbox, aceptas recibir comunicaciones de Costura Latina por email y WhatsApp. 
                        No compartimos tu informaci√≥n con terceros.
                    </p>
                </form>
                
                <div id="form-message" class="mt-4 hidden"></div>
            </div>
        </div>
    </section>

    <!-- CIERRE -->
    <section class="py-16 bg-pink-600 text-white text-center">
        <div class="container mx-auto px-4">
            <div class="fade-in max-w-3xl mx-auto">
                <h2 class="text-3xl md:text-4xl font-bold mb-6">No dejes que tu prenda favorita se pierda</h2>
                <p class="text-xl mb-8 opacity-90">Arreglarla es m√°s f√°cil de lo que crees. Cada costura cuenta una historia, cada ajuste devuelve la confianza.</p>
                <a href="#contacto" class="inline-block bg-yellow-400 text-gray-900 px-8 py-4 rounded-full text-lg font-bold hover:bg-yellow-300 transition transform hover:scale-105">
                    Recupera tu Prenda Favorita Ahora
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 text-center">
        <div class="container mx-auto px-4">
            <div class="mb-6">
                <div class="text-2xl font-bold text-pink-400 mb-2">Costura Latina</div>
                <p class="text-gray-400 text-sm">Confianza, detalle y calidad hechos a mano</p>
            </div>
            <div class="flex justify-center space-x-6 mb-6">
                <a href="https://www.instagram.com/costura_latina_/" target="_blank" class="text-gray-400 hover:text-pink-400 transition" aria-label="Instagram">@</a>
                <a href="https://www.facebook.com/profile.php?id=61575973637883" target="_blank" class="text-gray-400 hover:text-pink-400 transition" aria-label="Facebook">f</a>
                <a href="https://wa.me/61430049118" target="_blank" class="text-gray-400 hover:text-pink-400 transition" aria-label="WhatsApp">WA</a>
            </div>
            <div class="text-gray-400 text-sm space-y-1">
                <p>&copy; 2025 Costura Latina. Todos los derechos reservados.</p>
                <p>Gold Coast, Queensland, Australia | +61 430 049 118</p>
            </div>
        </div>
    </footer>

    <!-- WhatsApp sticky -->
    <a href="https://wa.me/61430049118" class="whatsapp-sticky" target="_blank" rel="noopener" aria-label="Chatear por WhatsApp">
        <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884"/></svg>
        WhatsApp
    </a>

    <!-- Supabase UMD -->
    <script src="https://unpkg.com/@supabase/supabase-js@2.44.0/dist/umd/supabase.min.js"></script>
    <script>
        // === Supabase Configuration (con tus datos) ===
        const SUPABASE_URL = 'https://fnasihlmuuqwyyupgbyq.supabase.co'; // ‚úÖ TU URL
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZuYXNpaGxtdXVxd3l5dXBnYnlxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ3NjgwNjIsImV4cCI6MjA3MDM0NDA2Mn0.1C8nhMztjrmldhho7oQXcTgzhxuowYHR9_zwZoqe6Hk'; // ‚úÖ TU anon key
        let supabaseClient;

        document.addEventListener('DOMContentLoaded', function() {
            // FIX A: global correcto en UMD es "supabase" (min√∫scula)
            if (typeof supabase !== 'undefined') {
                supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
            } else {
                console.error('No se carg√≥ supabase UMD');
            }

            // Smooth scroll
            document.querySelectorAll('a[href^="#"]').forEach(a=>{
                a.addEventListener('click', e=>{
                    const t = document.querySelector(a.getAttribute('href'));
                    if(t){ e.preventDefault(); t.scrollIntoView({behavior:'smooth', block:'start'}); }
                });
            });

            // Fade-in on scroll
            const io = new IntersectionObserver(entries=>{
                entries.forEach(en=>{ if(en.isIntersecting){ en.target.classList.add('visible'); }});
            }, {threshold:0.1, rootMargin:'0px 0px -50px 0px'});
            document.querySelectorAll('.fade-in').forEach(el=>io.observe(el));

            // Counter
            function animateCounter(){
                const el = document.querySelector('[data-count]'); if(!el) return;
                const target = parseInt(el.dataset.count); let current=0; const step = target/100;
                const timer = setInterval(()=>{ current+=step; el.textContent = Math.floor(current);
                    if(current>=target){ el.textContent = target + '+'; clearInterval(timer); }
                },20);
            }
            const co = new IntersectionObserver(es=>{
                es.forEach(e=>{ if(e.isIntersecting){ animateCounter(); co.unobserve(e.target); }});
            });
            const ce = document.querySelector('[data-count]'); if(ce){ co.observe(ce); }

            // Form
            const form = document.getElementById('contact-form');
            const submitButton = document.getElementById('submit-button');
            const consentimientoCheckbox = document.getElementById('consentimiento');
            const formMessage = document.getElementById('form-message');

            function toggleSubmitButton(){
                if(consentimientoCheckbox.checked){
                    submitButton.disabled=false;
                    submitButton.classList.remove('bg-gray-400','cursor-not-allowed');
                    submitButton.classList.add('bg-pink-600','hover:bg-pink-700','hover:scale-105','pulse-button');
                }else{
                    submitButton.disabled=true;
                    submitButton.classList.add('bg-gray-400','cursor-not-allowed');
                    submitButton.classList.remove('bg-pink-600','hover:bg-pink-700','hover:scale-105','pulse-button');
                }
            }
            consentimientoCheckbox.addEventListener('change', toggleSubmitButton);

            function showFieldError(name,msg){
                const err = document.getElementById(name+'-error');
                const field = document.querySelector(`[name="${name}"]`);
                if(err && field){ err.textContent=msg; err.classList.remove('hidden'); field.classList.add('border-red-500'); field.setAttribute('aria-invalid','true'); }
            }
            function clearFieldError(name){
                const err = document.getElementById(name+'-error');
                const field = document.querySelector(`[name="${name}"]`);
                if(err && field){ err.classList.add('hidden'); field.classList.remove('border-red-500'); field.removeAttribute('aria-invalid'); }
            }
            ['nombre','whatsapp','correo','descripcion'].forEach(n=>{
                const f = document.querySelector(`[name="${n}"]`); if(f){ f.addEventListener('input',()=>clearFieldError(n)); }
            });

            form.addEventListener('submit', async (e)=>{
                e.preventDefault();

                ['nombre','whatsapp','correo','descripcion','consentimiento'].forEach(clearFieldError);
                const fd = new FormData(form);
                const honeypot = fd.get('website');
                if(honeypot && honeypot.trim()!==''){
                    formMessage.innerHTML = `<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">Error al procesar. Intenta de nuevo.</div>`;
                    formMessage.classList.remove('hidden');
                    submitButton.disabled=false; submitButton.innerHTML='üßµ Solicitar Presupuesto GRATIS';
                    return;
                }

                let hasErrors=false;
                if(!fd.get('nombre')?.trim()){ showFieldError('nombre','Por favor, ingresa tu nombre'); hasErrors=true; }
                if(!fd.get('whatsapp')?.trim()){ showFieldError('whatsapp','Por favor, ingresa tu n√∫mero de WhatsApp'); hasErrors=true; }
                const email = fd.get('correo')?.trim();
                if(!email){ showFieldError('correo','Por favor, ingresa tu email'); hasErrors=true; }
                else { const re=/^[^\s@]+@[^\s@]+\.[^\s@]+$/; if(!re.test(email)){ showFieldError('correo','Por favor, ingresa un email v√°lido'); hasErrors=true; } }
                if(!fd.get('descripcion')?.trim()){ showFieldError('descripcion','Por favor, describe qu√© necesitas arreglar'); hasErrors=true; }
                if(!consentimientoCheckbox.checked){
                    const err=document.getElementById('consentimiento-error');
                    err.textContent='Debes aceptar recibir comunicaciones para continuar';
                    err.classList.remove('hidden'); hasErrors=true;
                }
                if(hasErrors) return;

                formMessage.innerHTML = '<div class="text-gray-600 font-medium">Enviando solicitud...</div>';
                formMessage.classList.remove('hidden');
                submitButton.disabled=true; submitButton.innerHTML='‚è≥ Enviando...';

                // Construir registro para tabla "messages"
                const payload = {
                    name: (fd.get('nombre') || '').toString().slice(0,120),
                    email: email.toString().slice(0,200),
                    message: (`WhatsApp: ${fd.get('whatsapp') || ''} ‚Äî ${fd.get('descripcion') || ''}`).toString().slice(0,1000),
                    user_agent: navigator.userAgent.slice(0,500)
                };

                try{
                    if(!supabaseClient) throw new Error('Error de configuraci√≥n del sistema');
                    // FIX B: insertar en "messages" (tabla con RLS insert-only)
                    const { error } = await supabaseClient.from('messages').insert([payload]);
                    if(error) throw error;

                    formMessage.innerHTML = `<div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded"><strong>¬°Perfecto!</strong> Tu solicitud ha sido enviada. Te contactaremos en menos de 24 horas al ${fd.get('whatsapp')}</div>`;
                    form.reset(); toggleSubmitButton();
                }catch(err){
                    console.error(err);
                    formMessage.innerHTML = `<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"><strong>Oops!</strong> Hubo un problema. Por favor, cont√°ctanos al <a href="https://wa.me/61430049118" class="underline">+61 430 049 118</a></div>`;
                }finally{
                    submitButton.disabled=false; submitButton.innerHTML='üßµ Solicitar Presupuesto GRATIS';
                    setTimeout(()=>{ formMessage.classList.add('hidden'); formMessage.innerHTML=''; }, 10000);
                }
            });
        });

        // Slider
        let currentSlide = 0;
        const slideWidth = 320;
        function scrollGallery(direction){
            const slider = document.getElementById('gallery-slider');
            const maxSlides = slider.children.length - Math.floor(slider.parentElement.offsetWidth / slideWidth);
            currentSlide += direction;
            if(currentSlide<0) currentSlide=0;
            if(currentSlide>maxSlides) currentSlide=maxSlides;
            slider.style.transform = `translateX(-${currentSlide * slideWidth}px)`;
        }
        setInterval(()=>{
            scrollGallery(1);
            if(currentSlide >= document.getElementById('gallery-slider').children.length - 2){ currentSlide = -1; }
        },5000);
    </script>
</body>
</html>
